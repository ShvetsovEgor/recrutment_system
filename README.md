# –°–∏—Å—Ç–µ–º–∞ —Ä–µ–∫—Ä—É—Ç–∏–Ω–≥–∞ —Å YandexGPT

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –∏ –≤–∞–∫–∞–Ω—Å–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º YandexGPT –¥–ª—è –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π –æ—Ü–µ–Ω–∫–∏.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### ü§ñ –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å YandexGPT
- **–î–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –ø–æ–ª–µ–π**: –ö–∞–∂–¥–æ–µ –ø–æ–ª–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ –∏ –≤–∞–∫–∞–Ω—Å–∏–∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ
- **–í–∑–≤–µ—à–µ–Ω–Ω—ã–π —Å–∫–æ—Ä**: –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–µ—Å–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ (–Ω–∞–≤—ã–∫–∏, –æ–ø—ã—Ç, –∑–∞—Ä–ø–ª–∞—Ç–∞ –∏ —Ç.–¥.)
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏**: GPT –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–π –æ—Ü–µ–Ω–∫–∏
- **–í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤

### üìä –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º—ã–µ –ø–æ–ª—è
- **–í–æ–∑—Ä–∞—Å—Ç** (–≤–µ—Å: 0.3)
- **–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø–µ—Ä–µ–µ–∑–¥—É** (–≤–µ—Å: 0.6)
- **–î–æ–ª–∂–Ω–æ—Å—Ç—å** (–≤–µ—Å: 1.0)
- **–¢–∏–ø –∑–∞–Ω—è—Ç–æ—Å—Ç–∏** (–≤–µ—Å: 0.8)
- **–û–∂–∏–¥–∞–µ–º–∞—è –∑–∞—Ä–ø–ª–∞—Ç–∞** (–≤–µ—Å: 0.6)
- **–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã** (–≤–µ—Å: 0.7)
- **–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ** (–≤–µ—Å: 0.8)
- **–ù–∞–≤—ã–∫–∏** (–≤–µ—Å: 1.0)
- **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –Ω–∞–≤—ã–∫–∏** (–≤–µ—Å: 1.0)
- **–Ø–∑—ã–∫–∏** (–≤–µ—Å: 0.5)

### üîÑ Fallback —Ä–µ–∂–∏–º
–ï—Å–ª–∏ YandexGPT –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑:
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–∞–≤—ã–∫–æ–≤ —á–µ—Ä–µ–∑ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ñ–∞–∫–∫–∞—Ä–∞
- Fuzzy matching –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π
- –ß–∏—Å–ª–æ–≤–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–ª—è –∑–∞—Ä–ø–ª–∞—Ç

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –§—É–Ω–∫—Ü–∏—è `calculate_matching_score`
```python
def calculate_matching_score(candidate, vacancy):
    """–†–∞—Å—á–µ—Ç —Å–∫–æ—Ä–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º YandexGPT"""
```

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- `candidate`: –î–∞–Ω–Ω—ã–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ –∏–∑ –ë–î
- `vacancy`: –î–∞–Ω–Ω—ã–µ –≤–∞–∫–∞–Ω—Å–∏–∏ –∏–∑ –ë–î

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è GPT
2. –û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–æ–º–ø—Ç–∞ –≤ YandexGPT
3. –ü–∞—Ä—Å–∏–Ω–≥ JSON –æ—Ç–≤–µ—Ç–∞
4. –†–∞—Å—á–µ—Ç –≤–∑–≤–µ—à–µ–Ω–Ω–æ–≥–æ —Å–∫–æ—Ä–∞
5. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –ë–î

### –ü—Ä–æ–º–ø—Ç –¥–ª—è YandexGPT
```python
prompt = f"""
–°—Ä–∞–≤–Ω–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –ø–æ–ª—è json –≤–∞–∫–∞–Ω—Å–∏–∏ —Å —Ç–∞–∫–∏–º –∂–µ –ø–æ–ª—è–º–∏ json –≤ —Ä–µ–∑—é–º–µ –∏ –æ—Ü–µ–Ω–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –æ—Ç 1 –¥–æ 10.
–û—Ü–µ–Ω–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –ø–æ –ø–æ–ª—è–º: "age", ("location" and "relocation" (–≤ –æ–¥–Ω–æ –ø–æ–ª–µ)), "work_experience","education","skills","skills_technologies","languages", "desired_position","employment_type","desired_salary".
–û—Ç–≤–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤—å –≤ –≤–∏–¥–µ json c –∫–ª—é—á–∞–º–∏-—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏ ("age","location","position","employment_type", "desired_salary","work_exp","education","skills","skills_tech","languages") –∏ –ø–æ–ª—è–º–∏ –æ—Ü–µ–Ω–∫–∞("score") –∏ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ("reason").
–°–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ : –ï—Å–ª–∏ –∫–∞–∫–æ–µ-—Ç–æ –ø–æ–ª–µ –ø—Ä–æ–ø—É—â–µ–Ω–æ –∏–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ, –∏–ª–∏ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ NULL, –∏–ª–∏ "" —Å—Ç–∞–≤—å -1 –≤ "score" –∏ –Ω–µ –æ—Ü–µ–Ω–∏–≤–∞–π (–Ω–∞–≤—ã–∫–∏ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –≤–∞–∫–∞–Ω—Å–∏–∏, –Ω–æ –µ—Å—Ç—å —É –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ –∏ –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥—É—Ç –≤ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏-—ç—Ç–æ —Ö–æ—Ä–æ—à–æ).
–ê —Ç–∞–∫–∂–µ –¥–∞–π –æ–±—â–µ–µ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –æ—Ü–µ–Ω–æ–∫, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫—É –∏ –≤–æ–ø—Ä–æ—Å—ã –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–µ –¥–ª—è –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ –≤ –∫–ª—é—á–µ "final_score" –≤ –ø–æ–ª–µ "reason" (–Ω–µ –∑–∞–±—É–¥—å —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª–µ "score" –≤ "final_score" —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º 0).
"""
```

### –†–∞—Å—á–µ—Ç –∏—Ç–æ–≥–æ–≤–æ–≥–æ —Å–∫–æ—Ä–∞
```python
weights = [0.3, 0.6, 1, 0.8, 0.6, 0.7, 0.8, 1, 1, 0.5, 0]
fields = ["age", "location", "position", "employment_type", "desired_salary", 
         "work_exp", "education", "skills", "skills_tech", "languages"]

fs = 0  # –°—É–º–º–∞ –≤–∑–≤–µ—à–µ–Ω–Ω—ã—Ö —Å–∫–æ—Ä–æ–≤
fm = 0  # –°—É–º–º–∞ –≤–µ—Å–æ–≤

for i, field in enumerate(fields):
    if field in job_requirements and job_requirements[field]["score"] != -1:
        score = job_requirements[field]["score"] / 10.0  # –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∫ 0-1
        fs += score * weights[i]
        fm += weights[i]

overall_score = fs / fm if fm > 0 else 0.5
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:
```env
# YandexGPT API Configuration
YANDEX_API_KEY=your_api_key_here
YANDEX_FOLDER_ID=your_folder_id_here
YANDEX_MODEL=yandexgpt-lite

# Flask Configuration
SECRET_KEY=huntflow_mvp_secret_key

# Database Configuration
DATABASE_PATH=recruitment.db
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
```

## API Endpoints

### `/api/match/<candidate_id>/<vacancy_id>`
–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–∫–æ—Ä–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ –∏ –≤–∞–∫–∞–Ω—Å–∏–∏

**–û—Ç–≤–µ—Ç:**
```json
{
    "matching_score": 0.85,
    "detailed_result": {
        "skills_score": 0.9,
        "skills_comment": "–û—Ç–ª–∏—á–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–∞–≤—ã–∫–æ–≤",
        "experience_score": 0.8,
        "experience_comment": "–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã —Ö–æ—Ä–æ—à–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º",
        // ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—è
    }
}
```

### `/api/vacancies/<vacancy_id>/candidates`
–ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –¥–ª—è –≤–∞–∫–∞–Ω—Å–∏–∏

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `status`: –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
- `min_score`: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å–∫–æ—Ä (–≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö)

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `matching_results`
```sql
CREATE TABLE matching_results (
    id TEXT PRIMARY KEY,
    candidate_id TEXT NOT NULL,
    vacancy_id TEXT NOT NULL,
    score REAL NOT NULL,
    detailed_scores JSON,
    overall_assessment TEXT,
    interview_questions JSON,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (candidate_id) REFERENCES candidates(id),
    FOREIGN KEY (vacancy_id) REFERENCES vacancies(id)
);
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π
```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env —Å –≤–∞—à–∏–º–∏ –∫–ª—é—á–∞–º–∏
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª
```

### 2. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
python app.py
```

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API
```python
import requests

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–∫–æ—Ä–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è
response = requests.get('http://localhost:5000/api/match/candidate_id/vacancy_id')
score = response.json()['matching_score']

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤
response = requests.get('http://localhost:5000/api/vacancies/vacancy_id/candidates')
candidates = response.json()['candidates']
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑**: GPT –ø–æ–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –Ω—é–∞–Ω—Å—ã
2. **–î–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞**: –ö–∞–∂–¥–æ–µ –ø–æ–ª–µ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏**: –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–π –æ—Ü–µ–Ω–∫–∏
4. **–í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è**: –†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞
5. **Fallback —Ä–µ–∂–∏–º**: –†–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –±–µ–∑ GPT
6. **–í–∑–≤–µ—à–µ–Ω–Ω—ã–π —Å–∫–æ—Ä**: –£—á–∏—Ç—ã–≤–∞–µ—Ç –≤–∞–∂–Ω–æ—Å—Ç—å —Ä–∞–∑–Ω—ã—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
7. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**: –í—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä—É–µ—Ç:
- –£—Å–ø–µ—à–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ GPT
- –û—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ fallback —Ä–µ–∂–∏–º
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–Ω–∞–ª–∏–∑–∞

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–í—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞**: 2-5 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
- **Fallback —Ä–µ–∂–∏–º**: 0.1-0.5 —Å–µ–∫—É–Ω–¥—ã
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å**: –ê–Ω–∞–ª–∏–∑ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç UI 